<!DOCTYPE html>
<html lang="en">
<head>
  <style>
    body{
      margin: 0;
      padding: 0;
    }
    html,body{
      width: 100%;
      height: 100%;
      overflow: hidden;
    }
  </style>
<body>
<canvas width="600" height="800" id="c1"></canvas>
<script>
  var pos = [
    [200, 400],
    [100, 100],
    [300, 200],
    [500, 500],
  ];
  var radius = 20;
  var canvas = document.getElementById('c1');
  var ctx = canvas.getContext('2d');

  drawGradientCircle();

  window.requestAnimationFrame =(
    window.webkitRequestAnimationFrame||
    window.mozRequestAnimationFrame||
    window.oRequestAnimationFrame||
    window.msRequestAnimationFrame||
    function(callback){
      return window.setTimeout(callback,1000/60);
    }
  );
  
  function drawGradientCircle() {
    window.requestAnimationFrame(drawGradientCircle);
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    // x0:, y0:, r0:, x1:, y1:, r1:
    for(var i = 0;i<pos.length;i++) {
      var x = pos[i][0],
        y = pos[i][1];
      ctx.beginPath();
      var grad = ctx.createRadialGradient(x, y, 0, x, y, radius/2);
      grad.addColorStop(0,'rgb(255, 0, 0)');
      grad.addColorStop(1,'rgba(0,0,255,0)');
      ctx.fillStyle = grad;
      ctx.rect(x - radius/2 ,y - radius/2, x+radius/2, y+ radius/2);
      ctx.fill();
      // ctx.beginPath();
      // ctx.arc(x, y, radius/2 , 0, Math.PI * 2);
      // ctx.strokeStyle = 'rgba(255, 0, 0, 0.5)';
      // ctx.strokeWidth = 1;
      // ctx.stroke();
    }
    radius = radius + 0.3;
    if(radius > 40) radius = 20;
  }
</script>
</body>
</html>
